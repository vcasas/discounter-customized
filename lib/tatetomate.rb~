require 'discounter/discount_rules'
require 'discounter/item'
require 'discounter/checkout'

include Discounter

  pricing_rules = []

  discount_rules = DiscountRules.new

  # Everyday discounts that you don't wanna retype every time
  pricing_rules << discount_rules.for_item({ code: "001", limit: 2, discount: 0.75 })
  pricing_rules << discount_rules.for_percentaje({ amount: 60, discount: 10 })

  co = Checkout.new(pricing_rules)

  co.scan Item.new("001", "Item name 1", 20.25)
  co.scan Item.new("001", "Item name 1", 20.25)
  co.scan Item.new("002", "Item name 2", 120.75)

  puts "Total:"
  puts price = co.total

